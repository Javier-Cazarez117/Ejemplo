[{"C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\index.js":"1","C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\reportWebVitals.js":"2","C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\components\\AutoCard.js":"3","C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\screens\\Asignarutas.js":"4","C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\screens\\AgregarProfesor.js":"5","C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\utils\\validaciones.js":"6"},{"size":545,"mtime":1612826498691,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"8"},{"size":3571,"mtime":1611787090526,"results":"10","hashOfConfig":"8"},{"size":6181,"mtime":1612505322787,"results":"11","hashOfConfig":"8"},{"size":6762,"mtime":1612985895920,"results":"12","hashOfConfig":"8"},{"size":634,"mtime":1612835940716,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"nel30t",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\index.js",[],["29","30"],"C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\reportWebVitals.js",[],"C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\components\\AutoCard.js",[],"C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\screens\\Asignarutas.js",[],"C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\screens\\AgregarProfesor.js",["31","32","33","34"],"import {makeStyles} from  '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useState } from 'react';\r\nimport { Button, Icon} from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport axios from 'axios';\r\n\r\nimport { campoRequerido, esEmail, esTelefono, esTexto } from '../utils/validaciones';\r\n\r\nconst useStyles = makeStyles((theme) =>({\r\n    paper: {\r\n      flexGrow: 1,\r\n      padding: theme.spacing(3),\r\n      textAlign: 'center',\r\n      color: theme.palette.text.secondary,\r\n    },\r\n  }));\r\n\r\nconst AgregarProfesor = () => {\r\n    const classes = useStyles();\r\n    const [profesor, setProfesor] = useState ({\r\n        nombre: '',\r\n        apellidos: '',\r\n        email: '',\r\n        telefono: '', \r\n        texto: ''\r\n    });\r\n    const handleChange = (e) => {\r\n        setProfesor({\r\n            ...profesor,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n    const [errores, setErrores] = useState({});\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        //limpiar mensajes de error\r\n        setErrores({});\r\n        const validaciones = {};\r\n/*\r\n        console.log(\"Validar formulario\");\r\n        \r\n        const validaciones = {};\r\n\r\n        let result = campoRequerido(profesor.nombre);\r\n        if (result){\r\n            validaciones.nombre = result;\r\n        }\r\n        \r\n        result = campoRequerido (profesor.apellidos);\r\n        if (result){\r\n            validaciones.apellidos = result;\r\n        }\r\n\r\n        result = campoRequerido (profesor.email);\r\n        if (result){\r\n            validaciones.email = result;\r\n        }   else {\r\n            result = esEmail(profesor.email);\r\n            if (result) {\r\n                validaciones.email = result;\r\n            }\r\n        }\r\n\r\n        result = campoRequerido (profesor.texto);\r\n        if (result){\r\n            validaciones.texto = result;\r\n        }   else {\r\n            result = esTexto(profesor.texto);\r\n            if (result) {\r\n                validaciones.texto = result;\r\n            }\r\n        }\r\n\r\n        if (profesor.telefono !== ''){\r\n            result = esTelefono(profesor.telefono);\r\n            if (result){\r\n                validaciones.telefono = result;\r\n            }\r\n        }\r\n\r\n        console.log(validaciones);\r\n        if (Object.keys(validaciones).length > 0) {\r\n            setErrores(validaciones);\r\n            return;\r\n        }\r\n        \r\n*/\r\n        const copiaProfesor = {...profesor};\r\n        if(copiaProfesor.telefono ===''){\r\n            delete copiaProfesor.telefono;  \r\n        }\r\n\r\n        axios.post('http://localhost:5000/profesores', copiaProfesor)\r\n        .then((response)=> {\r\n            if(response.data.error){\r\n                //mostrar los errores del servidor\r\n                response.data.errores.forEach(element => {\r\n                    if (!validaciones[element.campo]){\r\n                        validaciones[element.campo] = element.error;\r\n                    }\r\n                });\r\n                setErrores(validaciones)\r\n            }else{\r\n                //limpiar el formulario\r\n                setProfesor({\r\n                    nombre: '',\r\n                    apellidos: '',\r\n                    email: '',\r\n                    telefono: '', \r\n                    texto: ''\r\n                });\r\n            }\r\n            //console.log(response.data);            \r\n        })\r\n        .catch((error)=> {\r\n            console.log(error);\r\n        });\r\n    };\r\n\r\n\r\n    \r\n\r\n    return (\r\n        <Paper className = {classes.paper}>\r\n            <form onSubmit={handleSubmit} noValidate>\r\n                <Grid container spacing={3}>\r\n                    <Grid item md={6}>\r\n                        <TextField\r\n                            label=\"Nombre\"\r\n                            name=\"nombre\"\r\n                            value={profesor.nombre}\r\n                            onChange={handleChange}\r\n                            required\r\n                            error={!!errores.nombre}\r\n                            helperText={errores.nombre || ''}\r\n                        />         \r\n                    </Grid>\r\n                    <Grid item md={6}>\r\n                        <TextField\r\n                            label=\"Apellidos\"\r\n                            name=\"apellidos\"\r\n                            value={profesor.apellidos}\r\n                            onChange={handleChange}\r\n                            required\r\n                            error={!!errores.apellidos}\r\n                            helperText={errores.apellidos || ''}\r\n                        />         \r\n                    </Grid>\r\n                    <Grid item md={6}>\r\n                        <TextField\r\n                            label=\"Email\"\r\n                            name=\"email\"\r\n                            value={profesor.email}\r\n                            type=\"email\"\r\n                            onChange={handleChange}\r\n                            required\r\n                            error={!!errores.email}\r\n                            helperText={errores.email || ''}\r\n                        />         \r\n                    </Grid>\r\n                    <Grid item md={6}>\r\n                        <TextField\r\n                            label=\"Texto y numeros\"\r\n                            name=\"texto\"\r\n                            value={profesor.texto}\r\n                            onChange={handleChange}\r\n                            required\r\n                            error={!!errores.texto}\r\n                            helperText={errores.texto || ''}\r\n                        />         \r\n                    </Grid>\r\n                    <Grid item md={6}>\r\n                        <TextField\r\n                            label=\"Telefono\"\r\n                            name=\"telefono\"\r\n                            value={profesor.telefono}\r\n                            type=\"tel\"\r\n                            onChange={handleChange}\r\n                            error={!!errores.telefono}\r\n                            helperText={errores.telefono || ''}\r\n                        />         \r\n                    </Grid>\r\n                    <Grid item md={12}>\r\n                        <Button \r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            startIcon={<Icon>save</Icon>}\r\n                            type=\"submit\"\r\n                        >\r\n                            Guardar\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default AgregarProfesor;","C:\\Users\\Javier\\Documents\\Ingenieria\\ING - Cuatrimestre2\\Desarrollo Web Profesional\\ejemplo\\src\\utils\\validaciones.js",[],["35","36"],{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":9,"column":10,"nodeType":"43","messageId":"44","endLine":9,"endColumn":24},{"ruleId":"41","severity":1,"message":"45","line":9,"column":26,"nodeType":"43","messageId":"44","endLine":9,"endColumn":33},{"ruleId":"41","severity":1,"message":"46","line":9,"column":35,"nodeType":"43","messageId":"44","endLine":9,"endColumn":45},{"ruleId":"41","severity":1,"message":"47","line":9,"column":47,"nodeType":"43","messageId":"44","endLine":9,"endColumn":54},{"ruleId":"37","replacedBy":"48"},{"ruleId":"39","replacedBy":"49"},"no-native-reassign",["50"],"no-negated-in-lhs",["51"],"no-unused-vars","'campoRequerido' is defined but never used.","Identifier","unusedVar","'esEmail' is defined but never used.","'esTelefono' is defined but never used.","'esTexto' is defined but never used.",["50"],["51"],"no-global-assign","no-unsafe-negation"]